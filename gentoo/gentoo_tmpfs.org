* kernel configuration

https://wiki.gentoo.org/wiki/Tmpfs

KERNEL
File systems  --->
     Pseudo filesystems  --->
          [*] Tmpfs virtual memory file system support (former shm fs)
          [ ] Optional drivers


#

mount -t tmpfs tmpfs /MOUNTPOINT


* Portage TMPDIR on tmpfs

https://wiki.gentoo.org/wiki/Portage_TMPDIR_on_tmpfs

FILE /etc/fstabtmpfs fstab example

tmpfs		/var/tmp/portage		tmpfs	size=6g,uid=portage,gid=portage,mode=775,noatime	0 0

tmpfs		/tmp		tmpfs	size=6g,defaults,noatime,nosuid,nodev,noexec,mode=1777	0 0


Where N is in the form of bytes. It can also be suffixed with k, m, or g to respectively have the form of (k)ilobytes, (m)egabytes or (g)igabytes. It can also be suffixed with a % to limit the tmpfs instance to the percentage of current physical RAM, the default being 50% when the parameter is not specified.


http://askubuntu.com/questions/173094/how-can-i-use-ram-storage-for-the-tmp-directory-and-how-to-set-a-maximum-amount



* kernel.org

https://www.kernel.org/doc/Documentation/filesystems/tmpfs.txt


* zram

/etc/local.d zram1 for swap

https://wiki.gentoo.org/wiki/Zram#Gentoo.2FOpenRC_init_script


# 

generate 2 files with +x inside /etc/local.d

|       | G |      |
|-------+---+------|
| zram0 | 2 | swap |

** zram.start

#!/bin/bash

modprobe zram num_devices=1

echo lz4 > /sys/block/zram0/comp_algorithm

echo 2G > /sys/block/zram0/disksize 


mkswap /dev/zram0
swapon /dev/zram0 -p 10


** zram.stop

#!/bin/bash

swapoff /dev/zram0

echo 1 > /sys/block/zram0/reset

modprobe -r zram





* zswap

** 

** reference

https://www.kernel.org/doc/Documentation/vm/zswap.txt
